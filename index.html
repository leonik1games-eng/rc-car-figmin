<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="figmin">
    <title>SS Play RC Dashboard</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: transparent; 
            color: #fff;
            text-align: center;
            overflow: hidden;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center; /* Centraliza verticalmente */
            align-items: center;     /* Centraliza horizontalmente */
            height: 100vh;
            
            /* --- A CORREÇÃO MÁGICA --- */
            /* Isso deixa você clicar ATRAVÉS da tela pra acertar o carro */
            pointer-events: none; 
        }

        /* O Painel Flutuante */
        .dashboard {
            background: rgba(0, 0, 0, 0.85); /* Fundo um pouco mais escuro */
            border: 3px solid #00ff00;
            border-radius: 20px;
            padding: 20px;
            width: 300px;
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.2);
            
            /* Isso permite clicar SÓ no painel (se tiver botões) */
            pointer-events: auto; 
        }

        /* Tag de Versão */
        .version-tag {
            background-color: #ff0055;
            color: white;
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: inline-block;
            font-size: 14px;
        }

        h1 { margin: 0; font-size: 24px; color: #00ff00; text-transform: uppercase; }
        
        .speed-box { 
            margin: 15px 0; 
            border: 1px solid #333; 
            padding: 10px; 
            border-radius: 10px; 
            background: rgba(20, 20, 20, 0.9);
        }
        .speed-val { font-size: 40px; font-weight: bold; color: #fff; }
        .speed-unit { font-size: 14px; color: #888; }
        .gear-text { color: yellow; font-size: 14px; font-weight: bold; display: block; margin-bottom: 5px;}

        .bars { text-align: left; margin-top: 10px; font-size: 12px;}
        .bar-label { display: flex; justify-content: space-between; color: #aaa; margin-bottom: 2px;}
        .bar-container { background: #444; height: 8px; border-radius: 4px; margin-bottom: 8px; overflow: hidden; }
        .bar-fill { height: 100%; background: #00ff00; width: 0%; transition: width 0.1s; }
        .bar-steer { background: #0088ff; width: 50%; }

        #status { margin-top: 10px; font-size: 12px; color: #888; border-top: 1px solid #333; padding-top: 8px;}
    </style>
</head>
<body>

    <div class="dashboard">
        <div class="version-tag">V 4.1 - CORRIGIDO</div>
        
        <h1>SS Play RC</h1>
        
        <div class="speed-box">
            <span id="gearDisplay" class="gear-text">NEUTRO</span>
            <span id="speedDisplay" class="speed-val">0</span>
            <span class="speed-unit">km/h</span>
        </div>

        <div class="bars">
            <div class="bar-label"><span>Aceleração</span> <span id="valThrottle">0%</span></div>
            <div class="bar-container"><div id="barThrottle" class="bar-fill"></div></div>
            
            <div class="bar-label"><span>Direção</span> <span id="valSteer">0.0</span></div>
            <div class="bar-container"><div id="barSteer" class="bar-fill bar-steer" style="width: 50%"></div></div>
        </div>

        <p id="status">Procurando 'meu_carro'...</p>
    </div>

    <script>
        // --- SEUS AJUSTES ---
        const FORCA_MOTOR = 200.0;    // Potência
        const FORCA_CURVA = 25.0;     // Curva
        const USAR_EIXO_X = false;    // Mude se andar de lado
        const INVERTER_RE = 1;        // Mude para -1 se a ré for invertida
        // --------------------

        let car = null;
        let isConnected = false;

        document.addEventListener("FigminReady", init);

        function init() {
            // Verifica o modo espacial
            if (!figmin.isSpatialApp()) {
                figmin.requireSpatialApp();
                return;
            }

            car = figmin.findObjectByName("meu_carro");
            
            if (!car) {
                document.getElementById("status").innerText = "ERRO: Carro não encontrado.";
                document.getElementById("status").style.color = "red";
                // Tenta de novo em 1 segundo (caso o modelo esteja carregando)
                setTimeout(init, 1000); 
                return;
            }

            document.getElementById("status").innerText = "Carro encontrado. Clique no raio ⚡";
            document.getElementById("status").style.color = "cyan";

            // CONFIGURA FÍSICA
            car.addComponent(figmin.ComponentType.PHYSICS, {
                mass: 8.0,            // Bem pesado pra ficar no chão
                drag: 1.5,            // Freio aerodinâmico
                angularDrag: 3.0,     // Estabilidade
                gravityStrength: 3.0, // Gravidade extra
                collisionDetectionMode: figmin.physics.CollisionDetectionMode.CONTINUOUS_DYNAMIC,
                kinematic: false      // Começa solto
            });

            car.addComponent(figmin.ComponentType.PHYSICS_MATERIAL, {
                bounciness: 0.0,
                staticFriction: 0.8,
                dynamicFriction: 0.6
            });

            // ATIVA O RAIO DE CONEXÃO
            figmin.enableInputConnect("Pilotar", [
                figmin.InputCode.SELECT_RIGHT, // Gatilho
                figmin.InputCode.AXIS_Y_RIGHT, // Ré
                figmin.InputCode.AXIS_
